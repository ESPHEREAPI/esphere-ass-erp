<aside class="main-sidebar">
  <section class="sidebar">
    <!-- User Panel -->
    <div class="user-panel">
      <div class="pull-left image">
        <img src="/img/user2-160x160.png" class="img-circle" alt="User Image">
      </div>
      <div class="pull-left info">
      
        <a href="#"><i class="fa fa-circle text-success"></i> {{ 'online' | translate }}</a>
      </div>
    </div>

    <!-- Sidebar Menu -->
    <ul class="sidebar-menu" data-widget="tree">
      <ng-container *ngFor="let item of menuItems">
        <!-- Menu sans enfants -->
        <li *ngIf="!item.children" [class.active]="isActive(item.route!)">
          <a [routerLink]="item.route" (click)="closeSidebarOnMobile()">
            <i [class]="item.icon"></i>
            <span>{{ item.title | translate }}</span>
            <span *ngIf="item.notificationCount" class="label label-warning pull-right">
              {{ item.notificationCount }}
            </span>
          </a>
        </li>

        <!-- Menu avec enfants -->
        <li *ngIf="item.children" 
            class="treeview" 
            [class.active]="hasActiveChild(item)"
            [class.menu-open]="item.isOpen">
          <a href="#" (click)="toggleSubmenu(item, $event)">
            <i [class]="item.icon"></i>
            <span>{{ item.title | translate }}</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu" [style.display]="item.isOpen ? 'block' : 'none'">
            <li *ngFor="let child of item.children" [class.active]="isActive(child.route!)">
              <a [routerLink]="child.route" (click)="closeSidebarOnMobile()">
                <i [class]="child.icon"></i>
                <span>{{ child.title | translate }}</span>
              </a>
            </li>
          </ul>
        </li>
      </ng-container>
    </ul>

    <!-- Callout pour notifications -->
    <div class="callout callout-warning blink-two">
      <h4>{{ 'examen' | translate }}</h4>
      <p>3 {{ 'examens_en_attente' | translate }}</p>
    </div>
  </section>
</aside>